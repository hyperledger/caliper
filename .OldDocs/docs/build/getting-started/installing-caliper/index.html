<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=prev href=../..><link href=../architecture/ rel=next><link rel=icon href=../../_static/caliper.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.28"><title>Installing and Running Caliper - Hyperledger Caliper</title><link rel=stylesheet href=../../assets/stylesheets/main.6543a935.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",""),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#installing-caliper class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Hyperledger Caliper" class="md-header__button md-logo" aria-label="Hyperledger Caliper" data-md-component=logo> <img src=../../_static/caliper.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Hyperledger Caliper </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Installing and Running Caliper </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hyperledger-caliper/caliper title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hyperledger/caliper </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a href=../.. class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../concepts/bench-config/ class=md-tabs__link> Concepts </a> </li> <li class=md-tabs__item> <a href=../../connectors/fabric-config/ class=md-tabs__link> Connectors </a> </li> <li class=md-tabs__item> <a href=../../tutorial/ class=md-tabs__link> Tutorials </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Hyperledger Caliper" class="md-nav__button md-logo" aria-label="Hyperledger Caliper" data-md-component=logo> <img src=../../_static/caliper.svg alt=logo> </a> Hyperledger Caliper </label> <div class=md-nav__source> <a href=https://github.com/hyperledger-caliper/caliper title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hyperledger/caliper </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1 checked> <div class="md-nav__link md-nav__container"> <a href=../.. class="md-nav__link "> <span class=md-ellipsis> Getting Started </span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=true> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Installing and Running Caliper </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Installing and Running Caliper </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#the-caliper-cli class=md-nav__link> <span class=md-ellipsis> The Caliper CLI </span> </a> <nav class=md-nav aria-label="The Caliper CLI"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#the-bind-command class=md-nav__link> <span class=md-ellipsis> The bind command </span> </a> <nav class=md-nav aria-label="The bind command"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#custom-bindings class=md-nav__link> <span class=md-ellipsis> Custom bindings </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#the-unbind-command class=md-nav__link> <span class=md-ellipsis> The unbind command </span> </a> </li> <li class=md-nav__item> <a href=#the-launch-command class=md-nav__link> <span class=md-ellipsis> The launch command </span> </a> <nav class=md-nav aria-label="The launch command"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#the-launch-manager-command class=md-nav__link> <span class=md-ellipsis> The launch manager command </span> </a> </li> <li class=md-nav__item> <a href=#the-launch-worker-command class=md-nav__link> <span class=md-ellipsis> The launch worker command </span> </a> </li> <li class=md-nav__item> <a href=#caliper-test-phase-control class=md-nav__link> <span class=md-ellipsis> Caliper test phase control </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#installing-from-npm class=md-nav__link> <span class=md-ellipsis> Installing from NPM </span> </a> <nav class=md-nav aria-label="Installing from NPM"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#versioning-semantics class=md-nav__link> <span class=md-ellipsis> Versioning semantics </span> </a> </li> <li class=md-nav__item> <a href=#pre-requisites class=md-nav__link> <span class=md-ellipsis> Pre-requisites </span> </a> </li> <li class=md-nav__item> <a href=#local-npm-install class=md-nav__link> <span class=md-ellipsis> Local NPM install </span> </a> </li> <li class=md-nav__item> <a href=#global-npm-install class=md-nav__link> <span class=md-ellipsis> Global NPM install </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-the-docker-image class=md-nav__link> <span class=md-ellipsis> Using the Docker image </span> </a> <nav class=md-nav aria-label="Using the Docker image"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#starting-a-container class=md-nav__link> <span class=md-ellipsis> Starting a container </span> </a> </li> <li class=md-nav__item> <a href=#using-docker-compose class=md-nav__link> <span class=md-ellipsis> Using docker-compose </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#license class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../architecture/ class=md-nav__link> <span class=md-ellipsis> Architecture </span> </a> </li> <li class=md-nav__item> <a href=../contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../faq/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=../license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Concepts </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/bench-config/ class=md-nav__link> <span class=md-ellipsis> Benchmark Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/workload-module/ class=md-nav__link> <span class=md-ellipsis> Workload Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/rate-controllers/ class=md-nav__link> <span class=md-ellipsis> Rate Controllers </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/caliper-monitors/ class=md-nav__link> <span class=md-ellipsis> Resource and Transaction Monitors </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/caliper-messengers/ class=md-nav__link> <span class=md-ellipsis> Messengers </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/runtime-config/ class=md-nav__link> <span class=md-ellipsis> Runtime Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/logging-control/ class=md-nav__link> <span class=md-ellipsis> Logging Control </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/benchmark-generators/ class=md-nav__link> <span class=md-ellipsis> Benchmark Generators </span> </a> </li> <li class=md-nav__item> <a href=../../concepts/declarative-workload-module/ class=md-nav__link> <span class=md-ellipsis> Declarative Workloads </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Connectors </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Connectors </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../connectors/fabric-config/ class=md-nav__link> <span class=md-ellipsis> Fabric </span> </a> </li> <li class=md-nav__item> <a href=../../connectors/ethereum-config/ class=md-nav__link> <span class=md-ellipsis> Ethereum </span> </a> </li> <li class=md-nav__item> <a href=../../connectors/writing-connectors/ class=md-nav__link> <span class=md-ellipsis> Writing Connectors </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../tutorial/ class="md-nav__link "> <span class=md-ellipsis> Tutorials </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorial/fabric/ class=md-nav__link> <span class=md-ellipsis> Basic Fabric Tutorial </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#the-caliper-cli class=md-nav__link> <span class=md-ellipsis> The Caliper CLI </span> </a> <nav class=md-nav aria-label="The Caliper CLI"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#the-bind-command class=md-nav__link> <span class=md-ellipsis> The bind command </span> </a> <nav class=md-nav aria-label="The bind command"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#custom-bindings class=md-nav__link> <span class=md-ellipsis> Custom bindings </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#the-unbind-command class=md-nav__link> <span class=md-ellipsis> The unbind command </span> </a> </li> <li class=md-nav__item> <a href=#the-launch-command class=md-nav__link> <span class=md-ellipsis> The launch command </span> </a> <nav class=md-nav aria-label="The launch command"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#the-launch-manager-command class=md-nav__link> <span class=md-ellipsis> The launch manager command </span> </a> </li> <li class=md-nav__item> <a href=#the-launch-worker-command class=md-nav__link> <span class=md-ellipsis> The launch worker command </span> </a> </li> <li class=md-nav__item> <a href=#caliper-test-phase-control class=md-nav__link> <span class=md-ellipsis> Caliper test phase control </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#installing-from-npm class=md-nav__link> <span class=md-ellipsis> Installing from NPM </span> </a> <nav class=md-nav aria-label="Installing from NPM"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#versioning-semantics class=md-nav__link> <span class=md-ellipsis> Versioning semantics </span> </a> </li> <li class=md-nav__item> <a href=#pre-requisites class=md-nav__link> <span class=md-ellipsis> Pre-requisites </span> </a> </li> <li class=md-nav__item> <a href=#local-npm-install class=md-nav__link> <span class=md-ellipsis> Local NPM install </span> </a> </li> <li class=md-nav__item> <a href=#global-npm-install class=md-nav__link> <span class=md-ellipsis> Global NPM install </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-the-docker-image class=md-nav__link> <span class=md-ellipsis> Using the Docker image </span> </a> <nav class=md-nav aria-label="Using the Docker image"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#starting-a-container class=md-nav__link> <span class=md-ellipsis> Starting a container </span> </a> </li> <li class=md-nav__item> <a href=#using-docker-compose class=md-nav__link> <span class=md-ellipsis> Using docker-compose </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#license class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=installing-caliper>Installing Caliper<a class=headerlink href=#installing-caliper title="Permanent link">&para;</a></h1> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>Caliper is published as the <a href=https://www.npmjs.com/package/@hyperledger/caliper-cli>@hyperledger/caliper-cli</a> NPM package and the <a href=https://hub.docker.com/r/hyperledger/caliper>hyperledger/caliper</a> Docker image, both containing the CLI binary. Refer to the <a href=#installing-from-npm>Installing from NPM</a> and <a href=#using-the-docker-image>Using the Docker image</a> sections for the available versions and their intricacies.</p> <p>Installing and running Caliper consists of the following steps, thoroughly detailed by the remaining sections:</p> <ol> <li>Acquire the Caliper CLI either from NPM or from DockerHub.</li> <li>Execute a <em>bind</em> command through the CLI. This step pulls the specified version of SDK packages for the selected platform.</li> <li>Start the benchmark through the CLI or by starting the Docker container.</li> </ol> <p>The examples in the rest of the documentation use the <a href=https://github.com/hyperledger-caliper/caliper-benchmarks>caliper-benchmarks</a> repository as the Caliper workspace since it contains many sample artifacts for benchmarking.</p> <div class="admonition note"> <p class=admonition-title>Important</p> <p><em>make sure you check out the appropriate tag/commit of the repository, matching the version of Caliper you use.</em></p> </div> <p>To clone the <code>caliper-benchmarks</code> repository, run:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>git<span class=w> </span>clone<span class=w> </span>https://github.com/hyperledger-caliper/caliper-benchmarks.git
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=nb>cd</span><span class=w> </span>caliper-benchmarks
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>git<span class=w> </span>checkout<span class=w> </span>&lt;your<span class=w> </span>Caliper<span class=w> </span>version&gt;
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>If you are running your custom benchmark, then change this directory path (and other related configurations) accordingly in the examples.</em></p> </div> <h2 id=the-caliper-cli>The Caliper CLI<a class=headerlink href=#the-caliper-cli title="Permanent link">&para;</a></h2> <p>Unless you are embedding the Caliper packages in your own application, you will probably use Caliper through its command line interface (CLI). The other sections will introduce the different ways of acquiring and calling the Caliper CLI. This section simply focuses on the API it provides.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>The following examples assume a locally installed CLI in the <code>~/caliper-benchmarks</code> directory, hence the <code>npx</code> call before the <code>caliper</code> binary. Refer to the <a href=#local-npm-install>Local NPM install</a> section for the specifics.</em></p> </div> <p>The entry point of the CLI is the <code>caliper</code> binary. You can confirm whether the CLI is installed correctly by checking its version:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>user@ubuntu:~/caliper-benchmarks$<span class=w> </span>npx<span class=w> </span>caliper<span class=w> </span>--version
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>v0.6.0
</span></code></pre></div> <p>The CLI provides multiple commands to perform different tasks. To check the available commands and their descriptions, execute:</p> <p><div class="language-sh highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>user@ubuntu:~/caliper-benchmarks$<span class=w> </span>npx<span class=w> </span>caliper<span class=w> </span>--help
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>caliper<span class=w> </span>&lt;command&gt;
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>Commands:
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>  </span>caliper.js<span class=w> </span><span class=nb>bind</span><span class=w> </span><span class=o>[</span>options<span class=o>]</span><span class=w>       </span>Bind<span class=w> </span>Caliper<span class=w> </span>to<span class=w> </span>a<span class=w> </span>specific<span class=w> </span>SUT<span class=w> </span>and<span class=w> </span>its<span class=w> </span>SDK<span class=w> </span>version
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>  </span>caliper.js<span class=w> </span>launch<span class=w> </span>&lt;subcommand&gt;<span class=w>  </span>Launch<span class=w> </span>a<span class=w> </span>Caliper<span class=w> </span>process<span class=w> </span>either<span class=w> </span><span class=k>in</span><span class=w> </span>a<span class=w> </span>manager<span class=w> </span>or<span class=w> </span>worker<span class=w> </span>role.
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>  </span>caliper.js<span class=w> </span>unbind<span class=w> </span><span class=o>[</span>options<span class=o>]</span><span class=w>     </span>Unbind<span class=w> </span>Caliper<span class=w> </span>from<span class=w> </span>a<span class=w> </span>previously<span class=w> </span>bound<span class=w> </span>SUT<span class=w> </span>and<span class=w> </span>its<span class=w> </span>SDK<span class=w> </span>version
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=w>  </span>caliper.js<span class=w> </span>completion<span class=w>           </span>generate<span class=w> </span>completion<span class=w> </span>script
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>Options:
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=w>  </span>--help,<span class=w> </span>-h<span class=w>  </span>Show<span class=w> </span>usage<span class=w> </span>information<span class=w>  </span><span class=o>[</span>boolean<span class=o>]</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=w>  </span>--version<span class=w>   </span>Show<span class=w> </span>version<span class=w> </span>information<span class=w>  </span><span class=o>[</span>boolean<span class=o>]</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>Examples:
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=w>  </span>caliper<span class=w> </span><span class=nb>bind</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a><span class=w>  </span>caliper<span class=w> </span>unbind
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a><span class=w>  </span>caliper<span class=w> </span>launch<span class=w> </span>manager
</span><span id=__span-2-18><a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a><span class=w>  </span>caliper<span class=w> </span>launch<span class=w> </span>worker
</span></code></pre></div> You can also request the help page of a specific command, as demonstrated by the next subsections.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>the command options can be set either through the command line, or from various other sources supported by the <a href=../../concepts/runtime-config/ >configuration mechanism</a> of Caliper. This flexibility makes it easy to embed the CLI in different environments.</em></p> </div> <h3 id=the-bind-command>The bind command<a class=headerlink href=#the-bind-command title="Permanent link">&para;</a></h3> <p>Acquiring Caliper is as easy as installing a single NPM package, or pulling a single Docker image. However, this single point of install necessitates an additional step of telling Caliper which platform to target and which platform SDK version to use. This step is called binding, provided by the <code>bind</code> CLI command.</p> <p>To have a look at the help page of the command, execute: <div class="language-sh highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>user@ubuntu:~/caliper-benchmarks$<span class=w> </span>npx<span class=w> </span>caliper<span class=w> </span><span class=nb>bind</span><span class=w> </span>--help
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>Usage:
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>  </span>caliper<span class=w> </span><span class=nb>bind</span><span class=w> </span>--caliper-bind-sut<span class=w> </span>fabric:fabric-gateway<span class=w> </span>--caliper-bind-cwd<span class=w> </span>./<span class=w> </span>--caliper-bind-args<span class=o>=</span><span class=s2>&quot;-g&quot;</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>Options:
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>  </span>--help,<span class=w> </span>-h<span class=w>           </span>Show<span class=w> </span>usage<span class=w> </span>information<span class=w>  </span><span class=o>[</span>boolean<span class=o>]</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>  </span>--version<span class=w>            </span>Show<span class=w> </span>version<span class=w> </span>information<span class=w>  </span><span class=o>[</span>boolean<span class=o>]</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>  </span>--caliper-bind-sut<span class=w>   </span>The<span class=w> </span>name<span class=w> </span>and<span class=w> </span>version<span class=w> </span>of<span class=w> </span>the<span class=w> </span>platform<span class=w> </span>and<span class=w> </span>its<span class=w> </span>SDK<span class=w> </span>to<span class=w> </span><span class=nb>bind</span><span class=w> </span>to<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=w>  </span>--caliper-bind-cwd<span class=w>   </span>The<span class=w> </span>working<span class=w> </span>directory<span class=w> </span><span class=k>for</span><span class=w> </span>performing<span class=w> </span>the<span class=w> </span>SDK<span class=w> </span>install<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>  </span>--caliper-bind-args<span class=w>  </span>Additional<span class=w> </span>arguments<span class=w> </span>to<span class=w> </span>pass<span class=w> </span>to<span class=w> </span><span class=s2>&quot;npm install&quot;</span>.<span class=w> </span>Use<span class=w> </span>the<span class=w> </span><span class=s2>&quot;=&quot;</span><span class=w> </span>notation<span class=w> </span>when<span class=w> </span>setting<span class=w> </span>this<span class=w> </span>parameter<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=w>  </span>--caliper-bind-file<span class=w>  </span>Yaml<span class=w> </span>file<span class=w> </span>to<span class=w> </span>override<span class=w> </span>default<span class=w> </span><span class=o>(</span>supported<span class=o>)</span><span class=w> </span>package<span class=w> </span>versions<span class=w> </span>when<span class=w> </span>binding<span class=w> </span>an<span class=w> </span>SDK<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span></code></pre></div> The binding step technically consists of an extra <code>npm install</code> call with the appropriate packages and install settings, fully managed by the CLI. The following parameters can be set for the command:</p> <ul> <li><strong>SUT/platform name and SDK version</strong>: specifies the name of the target platform and the SDK version to install, e.g., <code>fAbric:2.2</code></li> <li><strong>Working directory</strong>: the directory from which the <code>npm install</code> command must be performed. Defaults to the current working directory</li> <li><strong>User arguments</strong>: additional arguments to pass to <code>npm install</code>, e.g., <code>--save</code></li> </ul> <p>The following SUT name and SDK version combinations are supported:</p> <ul> <li><strong>besu</strong>: <code>1.3.2</code>, <code>1.3</code>, <code>1.4</code></li> <li><strong>ethereum</strong>: <code>1.2.1</code>, <code>1.3</code></li> <li><strong>fabric</strong>: <code>1.4</code>, <code>2.2</code>, <code>fabric-gateway</code></li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>Ensure that the SDK you are binding is compatible with the the SUT version that you intend to target.</em></p> </div> <p>The <code>bind</code> command is useful when you plan to run multiple benchmarks against the same SUT version. Bind once, then run different benchmarks without the need to bind again. As you will see in the next sections, the launcher commands for the manager and worker processes can also perform the binding step if the required parameter is present.</p> <h4 id=custom-bindings>Custom bindings<a class=headerlink href=#custom-bindings title="Permanent link">&para;</a></h4> <p>The built-in bindings can be overridden by setting the <code>caliper-bind-file</code> parameter to a YAML file path. The file must match the structure of the <a href=https://github.com/hyperledger-caliper/caliper/blob/main/packages/caliper-cli/lib/lib/config.yaml>default binding file</a>, documented <a href=../../connectors/writing-connectors/#binding-configuration>here</a>. This way you can use experimental SDK versions that are not (yet) officially supported by Caliper. <strong>This also means that we cannot provide help for such SDK versions!</strong></p> <h3 id=the-unbind-command>The unbind command<a class=headerlink href=#the-unbind-command title="Permanent link">&para;</a></h3> <p>It might happen that you would like to switch between different SUT SDK versions/bindings during your measurements or project development. Depending on the SUT SDK, simply rebinding to a different version might leave behind unwanted packages, resulting in obscure errors.</p> <p>To avoid this, the CLI provides an <code>unbind</code>command, that behaves exactly like the <code>bind</code> command (even uses the same arguments), but instead of installing the packages present in the binding specification, it removes them, leaving no trace of the previous binding.</p> <p>To have a look at the help page of the command, execute: <div class="language-sh highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>user@ubuntu:~/caliper-benchmarks$<span class=w> </span>npx<span class=w> </span>caliper<span class=w> </span>unbind<span class=w> </span>--help
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>Usage:
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>  </span>caliper<span class=w> </span>unbind<span class=w> </span>--caliper-bind-sut<span class=w> </span>fabric:2.2<span class=w> </span>--caliper-bind-cwd<span class=w> </span>./<span class=w> </span>--caliper-bind-args<span class=o>=</span><span class=s2>&quot;-g&quot;</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>Options:
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=w>  </span>--help,<span class=w> </span>-h<span class=w>           </span>Show<span class=w> </span>usage<span class=w> </span>information<span class=w>  </span><span class=o>[</span>boolean<span class=o>]</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=w>  </span>--version<span class=w>            </span>Show<span class=w> </span>version<span class=w> </span>information<span class=w>  </span><span class=o>[</span>boolean<span class=o>]</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>  </span>--caliper-bind-sut<span class=w>   </span>The<span class=w> </span>name<span class=w> </span>and<span class=w> </span>version<span class=w> </span>of<span class=w> </span>the<span class=w> </span>platform<span class=w> </span>and<span class=w> </span>its<span class=w> </span>SDK<span class=w> </span>to<span class=w> </span>unbind<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=w>  </span>--caliper-bind-cwd<span class=w>   </span>The<span class=w> </span>working<span class=w> </span>directory<span class=w> </span><span class=k>for</span><span class=w> </span>performing<span class=w> </span>the<span class=w> </span>SDK<span class=w> </span>removal<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=w>  </span>--caliper-bind-args<span class=w>  </span>Additional<span class=w> </span>arguments<span class=w> </span>to<span class=w> </span>pass<span class=w> </span>to<span class=w> </span><span class=s2>&quot;npm remove&quot;</span>.<span class=w> </span>Use<span class=w> </span>the<span class=w> </span><span class=s2>&quot;=&quot;</span><span class=w> </span>notation<span class=w> </span>when<span class=w> </span>setting<span class=w> </span>this<span class=w> </span>parameter<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=w>  </span>--caliper-bind-file<span class=w>  </span>Yaml<span class=w> </span>file<span class=w> </span>to<span class=w> </span>override<span class=w> </span>default<span class=w> </span><span class=o>(</span>supported<span class=o>)</span><span class=w> </span>package<span class=w> </span>versions<span class=w> </span>when<span class=w> </span>unbinding<span class=w> </span>an<span class=w> </span>SDK<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span></code></pre></div></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>It is recommended to either bind/unbind globally (as done by the Caliper Docker image), or use the <code>--caliper-bind-args="--save-dev"</code> argument when performing the binding/unbinding. This ensures that <code>npm</code> will correctly remove the packages.</em></p> </div> <h3 id=the-launch-command>The launch command<a class=headerlink href=#the-launch-command title="Permanent link">&para;</a></h3> <p>Caliper runs a benchmark by using worker processes to generate the workload, and by using a manager process to coordinate the different benchmark rounds among the worker processes. Accordingly, the CLI provides commands for launching both manager and worker processes.</p> <p>To have a look at the help page of the command, execute:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>user@ubuntu:~/caliper-benchmarks$<span class=w> </span>npx<span class=w> </span>caliper<span class=w> </span>launch<span class=w> </span>--help
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>caliper<span class=w> </span>launch<span class=w> </span>&lt;subcommand&gt;
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>Launch<span class=w> </span>a<span class=w> </span>Caliper<span class=w> </span>process<span class=w> </span>either<span class=w> </span><span class=k>in</span><span class=w> </span>a<span class=w> </span>manager<span class=w> </span>or<span class=w> </span>worker<span class=w> </span>role.
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>Commands:
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=w>  </span>caliper<span class=w> </span>launch<span class=w> </span>manager<span class=w> </span><span class=o>[</span>options<span class=o>]</span><span class=w>  </span>Launch<span class=w> </span>a<span class=w> </span>Caliper<span class=w> </span>manager<span class=w> </span>process<span class=w> </span>to<span class=w> </span>coordinate<span class=w> </span>the<span class=w> </span>benchmark<span class=w> </span>run
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=w>  </span>caliper<span class=w> </span>launch<span class=w> </span>worker<span class=w> </span><span class=o>[</span>options<span class=o>]</span><span class=w>  </span>Launch<span class=w> </span>a<span class=w> </span>Caliper<span class=w> </span>worker<span class=w> </span>process<span class=w> </span>to<span class=w> </span>generate<span class=w> </span>the<span class=w> </span>benchmark<span class=w> </span>workload
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>Options:
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=w>  </span>--help,<span class=w> </span>-h<span class=w>  </span>Show<span class=w> </span>usage<span class=w> </span>information<span class=w>  </span><span class=o>[</span>boolean<span class=o>]</span>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=w>  </span>--version<span class=w>   </span>Show<span class=w> </span>version<span class=w> </span>information<span class=w>  </span><span class=o>[</span>boolean<span class=o>]</span>
</span></code></pre></div> <h4 id=the-launch-manager-command>The launch manager command<a class=headerlink href=#the-launch-manager-command title="Permanent link">&para;</a></h4> <p>The Caliper manager process can be considered as the entry point of a distributed benchmark run. It coordinates (and optionally spawns) the worker processes throughout the benchmark run.</p> <p>To have a look at the help page of the command, execute:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>user@ubuntu:~/caliper-benchmarks$<span class=w> </span>npx<span class=w> </span>caliper<span class=w> </span>launch<span class=w> </span>manager<span class=w> </span>--help
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>Usage:
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w> </span>caliper<span class=w> </span>launch<span class=w> </span>manager<span class=w> </span>--caliper-bind-sut<span class=w> </span>fabric:2.2<span class=w> </span><span class=o>[</span>other<span class=w> </span>options<span class=o>]</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>Options:
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>  </span>--help,<span class=w> </span>-h<span class=w>           </span>Show<span class=w> </span>usage<span class=w> </span>information<span class=w>  </span><span class=o>[</span>boolean<span class=o>]</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>  </span>--version<span class=w>            </span>Show<span class=w> </span>version<span class=w> </span>information<span class=w>  </span><span class=o>[</span>boolean<span class=o>]</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=w>  </span>--caliper-bind-sut<span class=w>   </span>The<span class=w> </span>name<span class=w> </span>and<span class=w> </span>version<span class=w> </span>of<span class=w> </span>the<span class=w> </span>platform<span class=w> </span>to<span class=w> </span><span class=nb>bind</span><span class=w> </span>to<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=w>  </span>--caliper-bind-cwd<span class=w>   </span>The<span class=w> </span>working<span class=w> </span>directory<span class=w> </span><span class=k>for</span><span class=w> </span>performing<span class=w> </span>the<span class=w> </span>SDK<span class=w> </span>install<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=w>  </span>--caliper-bind-args<span class=w>  </span>Additional<span class=w> </span>arguments<span class=w> </span>to<span class=w> </span>pass<span class=w> </span>to<span class=w> </span><span class=s2>&quot;npm install&quot;</span>.<span class=w> </span>Use<span class=w> </span>the<span class=w> </span><span class=s2>&quot;=&quot;</span><span class=w> </span>notation<span class=w> </span>when<span class=w> </span>setting<span class=w> </span>this<span class=w> </span>parameter<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=w>  </span>--caliper-bind-file<span class=w>  </span>Yaml<span class=w> </span>file<span class=w> </span>to<span class=w> </span>override<span class=w> </span>default<span class=w> </span><span class=o>(</span>supported<span class=o>)</span><span class=w> </span>package<span class=w> </span>versions<span class=w> </span>when<span class=w> </span>binding<span class=w> </span>an<span class=w> </span>SDK<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span></code></pre></div> <p>As you can see, the <code>launch manager</code> command can also process the parameters of the <code>bind</code> command, just in case you would like to perform the binding and the benchmark run in one step.</p> <p>However, the command <strong>requires</strong> the following parameters to be set:</p> <ul> <li><strong>caliper-workspace</strong>: the directory serving as the root of your project. Every relative path in other configuration files or settings will be resolved from this directory. The workspace concept was introduced to make Caliper projects portable across different machines.</li> <li><strong>caliper-benchconfig</strong>: the path of the file containing the configuration of the test rounds, as detailed in the Architecture page. Should be relative to the workspace path.</li> <li><strong>caliper-networkconfig</strong>: the path of the file containing the network configuration/description for the selected SUT, detailed in the configuration pages of the respective adapters. Should be relative to the workspace path.</li> </ul> <h4 id=the-launch-worker-command>The launch worker command<a class=headerlink href=#the-launch-worker-command title="Permanent link">&para;</a></h4> <p>The Caliper worker processes are responsible for generating the workload during the benchmark run. Usually more than one worker process is running, coordinated by the single manager process.</p> <p>To have a look at the help page of the command, execute:</p> <p><div class="language-sh highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>user@ubuntu:~/caliper-benchmarks$<span class=w> </span>npx<span class=w> </span>caliper<span class=w> </span>launch<span class=w> </span>worker<span class=w> </span>--help
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>Usage:
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w> </span>caliper<span class=w> </span>launch<span class=w> </span>manager<span class=w> </span>--caliper-bind-sut<span class=w> </span>fabric:2.2<span class=w> </span><span class=o>[</span>other<span class=w> </span>options<span class=o>]</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>Options:
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>  </span>--help,<span class=w> </span>-h<span class=w>           </span>Show<span class=w> </span>usage<span class=w> </span>information<span class=w>  </span><span class=o>[</span>boolean<span class=o>]</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>  </span>--version<span class=w>            </span>Show<span class=w> </span>version<span class=w> </span>information<span class=w>  </span><span class=o>[</span>boolean<span class=o>]</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>  </span>--caliper-bind-sut<span class=w>   </span>The<span class=w> </span>name<span class=w> </span>and<span class=w> </span>version<span class=w> </span>of<span class=w> </span>the<span class=w> </span>platform<span class=w> </span>to<span class=w> </span><span class=nb>bind</span><span class=w> </span>to<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>  </span>--caliper-bind-cwd<span class=w>   </span>The<span class=w> </span>working<span class=w> </span>directory<span class=w> </span><span class=k>for</span><span class=w> </span>performing<span class=w> </span>the<span class=w> </span>SDK<span class=w> </span>install<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=w>  </span>--caliper-bind-args<span class=w>  </span>Additional<span class=w> </span>arguments<span class=w> </span>to<span class=w> </span>pass<span class=w> </span>to<span class=w> </span><span class=s2>&quot;npm install&quot;</span>.<span class=w> </span>Use<span class=w> </span>the<span class=w> </span><span class=s2>&quot;=&quot;</span><span class=w> </span>notation<span class=w> </span>when<span class=w> </span>setting<span class=w> </span>this<span class=w> </span>parameter<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=w>  </span>--caliper-bind-file<span class=w>  </span>Yaml<span class=w> </span>file<span class=w> </span>to<span class=w> </span>override<span class=w> </span>default<span class=w> </span><span class=o>(</span>supported<span class=o>)</span><span class=w> </span>package<span class=w> </span>versions<span class=w> </span>when<span class=w> </span>binding<span class=w> </span>an<span class=w> </span>SDK<span class=w>  </span><span class=o>[</span>string<span class=o>]</span>
</span></code></pre></div> As you can see, you can configure the worker processes the same way as the manager process. Including the optional binding step, but also the three mandatory parameters mentioned in the previous section.</p> <h4 id=caliper-test-phase-control>Caliper test phase control<a class=headerlink href=#caliper-test-phase-control title="Permanent link">&para;</a></h4> <p>Caliper commands are capable of passing all <a href=../../concepts/runtime-config/ >runtime configuration settings</a>. A subset of these commands are for flow control that provide direct control over the following Caliper phases:</p> <ul> <li>start</li> <li>init</li> <li>install</li> <li>test</li> <li>end</li> </ul> <p>It is possible to skip, or perform only one of the above phases through use of the correct flag. For instance, it is common to have an existing network that may be targeted by Caliper through the provision of a <code>--caliper-flow-only-test</code> flag.</p> <h2 id=installing-from-npm>Installing from NPM<a class=headerlink href=#installing-from-npm title="Permanent link">&para;</a></h2> <p>Caliper is published as the <a href=https://www.npmjs.com/package/@hyperledger/caliper-cli>@hyperledger/caliper-cli</a> NPM package, providing a single point of install for every supported adapter.</p> <h3 id=versioning-semantics>Versioning semantics<a class=headerlink href=#versioning-semantics title="Permanent link">&para;</a></h3> <p>Before explaining the steps for installing Caliper, lets take a look at the <code>Versions</code> page of the CLI package. You will see a list of tags and versions. If you are new to NPM, think of versions as immutable pointers to a specific version (duh) of the source code, while tags are mutable pointers to a specific version. So tags can change where they point to. Easy, right?</p> <p>But why is all this important to you? Because Caliper is still in its pre-release life-cycle (&lt; v1.0.0), meaning that even minor version bumps are allowed to introduce breaking changes. And if you use Caliper in your project, you might run into some surprises depending on how you install Caliper from time to time.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>Until Caliper reaches v1.0.0, always use the explicit version numbers when installing from NPM. So lets forget about the <code>latest</code> tag, as of now they are just a mandatory hindrance of NPM. We deliberately do not provide such tags for the Docker images.</em></p> </div> <p>Lets see the three types of version numbers you will encounter:</p> <ul> <li><code>0.6.0</code>: Version numbers of this form denote releases deemed <em>stable</em> by the maintainers. Such versions have a corresponding GitHub tag, both in the <code>caliper</code> and <code>caliper-benchmarks</code> repositories. Moreover, the latest stable version is documented by the matching version of the documentation page. So make sure to align the different versions if you run into some issue.</li> <li><code>0.6.1-unstable-20240422122901</code>: Such version numbers denote unstable releases that are published upon every merged pull request (hence the timestamp at the end), and eventually will become a stable version, e.g., <code>0.6.1</code>. This way you always have access to the NPM (and Docker) artifacts pertaining to the <code>main</code> branch of the repository. Lets find and fix the bugs of new features before they make it to the stable release!</li> <li><code>unstable</code>: This is the very latest unstable release that has been published and would correspond to a version also published as <code>0.6.1-unstable-&lt;some date&gt;</code>. This lets you quickly work with the very latest code from the <code>main</code> branch.</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>The newest unstable release always corresponds to the up-to-date version of the related repositories, and the <code>vNext</code> version of the documentation page!</em></p> </div> <h3 id=pre-requisites>Pre-requisites<a class=headerlink href=#pre-requisites title="Permanent link">&para;</a></h3> <ul> <li>Node.js v18 LTS, v20 LTS or v22 LTS version is required to install the Caliper CLI from NPM:</li> <li>Docker version 20.10.11 or later is required for use with the Caliper docker image</li> </ul> <p>The following tools may be required depending on which SUT and version you bind to</p> <ul> <li>python3, make, g++ and git (for fetching and compiling some packages during bind)</li> </ul> <h3 id=local-npm-install>Local NPM install<a class=headerlink href=#local-npm-install title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>this is the highly recommended way to install Caliper for your project. Keeping the project dependencies local makes it easier to setup multiple Caliper projects. Global dependencies would require re-binding every time before a new benchmark run (to ensure the correct global dependencies).</em></p> </div> <ol> <li>Install the Caliper CLI as you would any other NPM package. It is highly recommended to explicitly specify the version number, e.g., <code>@hyperledger/caliper-cli@0.6.0</code></li> <li>Bind the CLI to the required platform SDK (e.g., <code>fabric</code> with the <code>fabric-gateway</code> SDK).</li> <li>Invoke the local CLI binary (using <a href=https://www.npmjs.com/package/npx>npx</a>) with the appropriate parameters. You can repeat this step for as many benchmarks as you would like.</li> </ol> <p>Putting it all together:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>user@ubuntu:~/caliper-benchmarks$<span class=w> </span>npm<span class=w> </span>install<span class=w> </span>--only<span class=o>=</span>prod<span class=w> </span>@hyperledger/caliper-cli@0.6.0
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>user@ubuntu:~/caliper-benchmarks$<span class=w> </span>npx<span class=w> </span>caliper<span class=w> </span><span class=nb>bind</span><span class=w> </span>--caliper-bind-sut<span class=w> </span>fabric:fabric-gateway
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>user@ubuntu:~/caliper-benchmarks$<span class=w> </span>npx<span class=w> </span>caliper<span class=w> </span>launch<span class=w> </span>manager<span class=w> </span><span class=se>\</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=w>    </span>--caliper-workspace<span class=w> </span>.<span class=w> </span><span class=se>\</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>    </span>--caliper-benchconfig<span class=w> </span>benchmarks/scenario/simple/config.yaml<span class=w> </span><span class=se>\</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>    </span>--caliper-networkconfig<span class=w> </span>networks/fabric/test-network.yaml
</span></code></pre></div> <p>We could also perform the binding automatically when launching the manager process (note the extra parameter for <code>caliper launch manager</code>):</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>user@ubuntu:~/caliper-benchmarks$<span class=w> </span>npm<span class=w> </span>install<span class=w> </span>--only<span class=o>=</span>prod<span class=w> </span>@hyperledger/caliper-cli@0.6.0
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>user@ubuntu:~/caliper-benchmarks$<span class=w> </span>npx<span class=w> </span>caliper<span class=w> </span>launch<span class=w> </span>manager<span class=w> </span><span class=se>\</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=w>    </span>--caliper-bind-sut<span class=w> </span>fabric:fabric-gateway<span class=w> </span><span class=se>\</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=w>    </span>--caliper-workspace<span class=w> </span>.<span class=w> </span><span class=se>\</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=w>    </span>--caliper-benchconfig<span class=w> </span>benchmarks/scenario/simple/config.yaml<span class=w> </span><span class=se>\</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=w>    </span>--caliper-networkconfig<span class=w> </span>networks/fabric/test-network.yaml
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>specifying the <code>--only=prod</code> parameter in step 2 will ensure that the default <strong>latest</strong> SDK dependencies for <strong>every</strong> platform will <strong>not</strong> be installed. Since we perform an explicit binding anyway (and only for a single platform), this is the desired approach, while also saving some storage and time.</em></p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>always make sure that the versions of the SUT, the bound SDK and the used artifacts match!</em></p> </div> <h3 id=global-npm-install>Global NPM install<a class=headerlink href=#global-npm-install title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>make sure that you have a really good reason for installing the Caliper CLI globally. The recommended approach is the local install. That way your project is self-contained and you can easily setup multiple projects (in multiple directories) that each target a different SUT (or just different SUT versions). Installing or re-binding dependencies globally can get tricky.</em></p> </div> <p>There are some minor differences compared to the local install:</p> <ol> <li>You can perform the install, bind and run steps from anywhere (just specify the workspace accordingly).</li> <li>You need to install the CLI globally (<code>-g</code> flag).</li> <li>You need to tell the binding step to install the packages also globally (<code>--caliper-bind-args</code> parameter).</li> <li>You can omit the <code>npx</code> command, since <code>caliper</code> will be in your <code>PATH</code>.</li> </ol> <div class="language-sh highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>user@ubuntu:~$<span class=w> </span>npm<span class=w> </span>install<span class=w> </span>-g<span class=w> </span>--only<span class=o>=</span>prod<span class=w> </span>@hyperledger/caliper-cli@0.6.0
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>user@ubuntu:~$<span class=w> </span>caliper<span class=w> </span><span class=nb>bind</span><span class=w> </span>--caliper-bind-sut<span class=w> </span>fabric:2.2<span class=w> </span>--caliper-bind-args<span class=o>=</span>-g
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>user@ubuntu:~$<span class=w> </span>caliper<span class=w> </span>launch<span class=w> </span>manager<span class=w> </span><span class=se>\</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=w>    </span>--caliper-workspace<span class=w> </span>~/caliper-benchmarks<span class=w> </span><span class=se>\</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=w>    </span>--caliper-benchconfig<span class=w> </span>benchmarks/scenario/simple/config.yaml<span class=w> </span><span class=se>\</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=w>    </span>--caliper-networkconfig<span class=w> </span>networks/fabric/test-network.yaml
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>for global install you dont need to change the directory to your workspace, you can simply specify <code>--caliper-workspace ~/caliper-benchmarks</code>. But this way you cant utilize the auto complete feature of your commandline for the relative paths of the artifacts.</em></p> </div> <p>Depending on your NPM settings, your user might need write access to directories outside of its home directory. This usually results in <em>Access denied</em> errors. The following pointers <a href=https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally>here</a> can guide you to circumvent the problem.</p> <h2 id=using-the-docker-image>Using the Docker image<a class=headerlink href=#using-the-docker-image title="Permanent link">&para;</a></h2> <p>Caliper is published as the <a href=https://hub.docker.com/r/hyperledger/caliper>hyperledger/caliper</a> Docker image, providing a single point of usage for every supported adapter.</p> <p>The important properties of the image are the following:</p> <ul> <li>Working directory: <code>/hyperledger/caliper/workspace</code></li> <li>The commands are executed by the <code>node</code> user (created in the base image)</li> <li>The environment variable <code>CALIPER_WORKSPACE</code> is set to the <code>/hyperledger/caliper/workspace</code> directory</li> <li>The entry point is the <strong>globally</strong> installed <code>caliper</code> binary</li> <li>The environment variable <code>CALIPER_BIND_ARGS</code> is set to <code>-g</code>, so the binding step also occurs globally.</li> <li>The default command is set to <code>--version</code>. This must be overridden when using the image.</li> </ul> <p>This has the following implications:</p> <ol> <li>It is recommended to mount your local workspace to the <code>/hyperledger/caliper/workspace</code> container directory. The default <code>CALIPER_WORKSPACE</code> environment variable value points to this location, so you dont need to specify it explicitly, one less setting to modify.</li> <li>You need to choose a command to execute, either <code>launch manager</code> or <code>launch worker</code>. Check the Docker and Docker-Compose examples for the exact syntax.</li> <li>The binding step is still necessary, similarly to the NPM install approach. Whether you use the <code>launch manager</code> or <code>launch worker</code> command, you only need to set the required binding parameter. The easiest way to do this is through the <code>CALIPER_BIND_SUT</code> and <code>CALIPER_BIND_SDK</code> environment variables.</li> <li>You need to set the required parameters for the launched manager or worker. The easiest way to do this is through the <code>CALIPER_BENCHCONFIG</code> and <code>CALIPER_NETWORKCONFIG</code> environment variables.</li> </ol> <h3 id=starting-a-container>Starting a container<a class=headerlink href=#starting-a-container title="Permanent link">&para;</a></h3> <p>Parts of starting a Caliper container (following the recommendations above):</p> <ol> <li>Pick the required image version</li> <li>Mount your local working directory to a container directory</li> <li>Set the required binding and run parameters</li> </ol> <div class="admonition note"> <p class=admonition-title>Note</p> <p><em>the <strong>latest</strong> tag is <strong>not supported</strong>, i.e, you explicitly have to specify the image version you want: hyperledger/caliper:0.6.0, similar to the recommended approach for the <a href=#versioning-semantics>NPM packages</a>.</em></p> </div> <p>Putting it all together, split into multiple lines for clarity, and naming the container <code>caliper</code>:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>user@ubuntu:~/caliper-benchmarks$<span class=w> </span>docker<span class=w> </span>run<span class=w> </span><span class=se>\</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=w>    </span>-v<span class=w> </span><span class=nv>$PWD</span>:/hyperledger/caliper/workspace<span class=w> </span><span class=se>\</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=w>    </span>-e<span class=w> </span><span class=nv>CALIPER_BIND_SUT</span><span class=o>=</span>fabric:fabric-gateway<span class=w> </span><span class=se>\</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=w>    </span>-e<span class=w> </span><span class=nv>CALIPER_BENCHCONFIG</span><span class=o>=</span>benchmarks/scenario/simple/config.yaml<span class=w> </span><span class=se>\</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=w>    </span>-e<span class=w> </span><span class=nv>CALIPER_NETWORKCONFIG</span><span class=o>=</span>networks/fabric/test-network.yaml<span class=w> </span><span class=se>\</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=w>    </span>--name<span class=w> </span>caliper<span class=w> </span>hyperledger/caliper:0.6.0<span class=w> </span>launch<span class=w> </span>manager
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The above network configuration file contains a start script to spin up a local Docker-based Fabric network, which will not work in this form. So make sure to remove the start (and end) script, and change the node endpoints to remote addresses.</p> </div> <h3 id=using-docker-compose>Using docker-compose<a class=headerlink href=#using-docker-compose title="Permanent link">&para;</a></h3> <p>The above command is more readable when converted to a <code>docker-compose.yaml</code> file:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>version:<span class=w> </span><span class=s1>&#39;2&#39;</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>services:
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=w>    </span>caliper:
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=w>        </span>container_name:<span class=w> </span>caliper
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=w>        </span>image:<span class=w> </span>hyperledger/caliper:0.6.0
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=w>        </span>command:<span class=w> </span>launch<span class=w> </span>manager
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=w>        </span>environment:
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=w>        </span>-<span class=w> </span><span class=nv>CALIPER_BIND_SUT</span><span class=o>=</span>fabric:fabric-gateway
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=w>        </span>-<span class=w> </span><span class=nv>CALIPER_BENCHCONFIG</span><span class=o>=</span>benchmarks/scenario/simple/config.yaml
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a><span class=w>        </span>-<span class=w> </span><span class=nv>CALIPER_NETWORKCONFIG</span><span class=o>=</span>networks/fabric/test-network.yaml
</span><span id=__span-12-12><a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a><span class=w>        </span>volumes:
</span><span id=__span-12-13><a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a><span class=w>        </span>-<span class=w> </span>~/caliper-benchmarks:/hyperledger/caliper/workspace
</span></code></pre></div> <p>Once you navigate to the directory containing the <code>docker-compose.yaml</code> file, just execute:</p> <div class="language-sh highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a>docker-compose<span class=w> </span>up
</span></code></pre></div> <h2 id=license>License<a class=headerlink href=#license title="Permanent link">&para;</a></h2> <p>The Caliper codebase is released under the <a href=../license/ >Apache 2.0 license</a>. Any documentation developed by the Caliper Project is licensed under the Creative Commons Attribution 4.0 International License. You may obtain a copy of the license, titled CC-BY-4.0, at <a href=http://creativecommons.org/licenses/by/4.0/ >http://creativecommons.org/licenses/by/4.0/</a>.</p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../.. class="md-footer__link md-footer__link--prev" aria-label="Previous: Introduction"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Introduction </div> </div> </a> <a href=../architecture/ class="md-footer__link md-footer__link--next" aria-label="Next: Architecture"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Architecture </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["announce.dismiss", "content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.fe8b6f2b.min.js></script> </body> </html>